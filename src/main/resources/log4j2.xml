<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="WARN" name="Foresight" monitorInterval="300">
  <Properties>
    <Property name="baseDir">logs</Property>
  </Properties>
  <Appenders>
	 <!--AAAAAAAAAAAAAAAAAAAAAAAAAAA--> 
    
	<Console name="ConsoleJSONAppender" target="SYSTEM_OUT">
        <JsonLayout complete="false" compact="false">
            <KeyValuePair key="myCustomField" value="myCustomValue" />
        </JsonLayout>
    </Console>
	 <!--AAAAAAAAAAAAAAAAAAAAAAAAAAA--> 
    <Console name="Console" target="SYSTEM_OUT">
      <PatternLayout pattern="[%-5p] %m (%F:%L)%n%ex" />
    </Console>
     <!--AAAAAAAAAAAAAAAAAAAAAAAAAAA--> 
    
    <RollingFile name="RollingFile" fileName="${baseDir}/foresight.log"
      filePattern="${baseDir}/$${date:yyyy-MM}/foresight-%d{yyyy-MM-dd}-%i.log.gz">
      <PatternLayout>
        <Pattern>
          %d{HH:mm:ss,SSS} [%p{length=1}] [%t] %c %M - %m%n%ex
        </Pattern>
      </PatternLayout>
      <Policies>
        <TimeBasedTriggeringPolicy interval="1" modulate="true" />
        <SizeBasedTriggeringPolicy size="100 MB" />
      </Policies>
      <DefaultRolloverStrategy max="5">
        <Delete basePath="${baseDir}" maxDepth="2">
          <IfFileName glob="*/foresight-*.log.gz" />
          <IfLastModified age="10d" />
        </Delete>
      </DefaultRolloverStrategy>
    </RollingFile>
	  <!--AAAAAAAAAAAAAAAAAAAAAAAAAAA--> 
    
  </Appenders>
  <Loggers>
    <Logger name="com.inn.commons.configuration" level="debug" additivity="false">
      <AppenderRef ref="Console" />
      <AppenderRef ref="RollingFile" />
    </Logger>
    <Logger name="com.inn" level="debug" additivity="false">
      <AppenderRef ref="	" />
      <AppenderRef ref="RollingFile" />
    </Logger>
    <Logger name="com.inn.foresight.module.cm" level="trace" additivity="false">
      <AppenderRef ref="Console" />
      <AppenderRef ref="RollingFile" />
    </Logger>
    <!-- <Logger name="org.hibernate.engine.transaction.internal.TransactionImpl" level="trace" additivity="false">
      <AppenderRef ref="Console" />
      <AppenderRef ref="RollingFile" />
    </Logger> -->
    <!-- <Logger name="org.hibernate.internal.SessionFactoryImpl" level="trace" additivity="false">
      <AppenderRef ref="Console" />
      <AppenderRef ref="RollingFile" />
    </Logger> -->
    <Root level="warn">
      <AppenderRef ref="Console" />
      <AppenderRef ref="RollingFile" />
    </Root>
  </Loggers>
</Configuration>
